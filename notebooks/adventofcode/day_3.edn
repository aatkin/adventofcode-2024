{:path [], :nextjournal/value {:package :directory, :toc {:path [], :nextjournal/value [{:title "", :emoji nil, :path "#", :items [{:title "Part 1", :emoji nil, :path "#part-1", :items [{:title "Solution", :emoji nil, :path "#solution", :items []} {:title "Example input", :emoji nil, :path "#example-input", :items []} {:title "Input", :emoji nil, :path "#input", :items []}]} {:title "Part 2", :emoji nil, :path "#part-2", :items [{:title "Solution", :emoji nil, :path "#solution-2", :items []} {:title "Example input", :emoji nil, :path "#example-input-2", :items []} {:title "Input", :emoji nil, :path "#input-2", :items []}]}]}], :nextjournal/render-opts {:toc-visibility true, :set-hash? true}, :nextjournal/viewer {:name nextjournal.clerk.viewer/toc-viewer, :render-fn #viewer-fn nextjournal.clerk.render.navbar/render-items, :hash "5dtesrAmYqLZQQHSMEfFTNpmLtY4nC"}}, :sidenotes? false, :toc-visibility true, :atom-var-name->state #viewer-eval (nextjournal.clerk.render/intern-atoms! {}), :ns #viewer-eval (ns adventofcode.day-3), :file "notebooks/adventofcode/day_3.clj", :scope adventofcode.day-3, :header {:path [], :nextjournal/value [:div.viewer.w-full.max-w-prose.px-8.not-prose.mt-3 [:div.mb-8.text-xs.sans-serif.text-slate-400 nil [:<> [:a.font-medium.border-b.border-dotted.border-slate-300.hover:text-indigo-500.hover:border-indigo-500.dark:border-slate-500.dark:hover:text-white.dark:hover:border-white.transition {:href "./../../../"} "Index"] [:span.mx-2 "â€¢"]] [:span "Generated with " [:a.font-medium.border-b.border-dotted.border-slate-300.hover:text-indigo-500.hover:border-indigo-500.dark:border-slate-500.dark:hover:text-white.dark:hover:border-white.transition {:href "https://clerk.vision"} "Clerk"] [:<> " from " [:a.font-medium.border-b.border-dotted.border-slate-300.hover:text-indigo-500.hover:border-indigo-500.dark:border-slate-500.dark:hover:text-white.dark:hover:border-white.transition {:href "https://github.com/aatkin/adventofcode-2024/blob/4ee22357141a3b8c5cffa0d43d9dc77b2427c500/notebooks/adventofcode/day_3.clj"} "notebooks/adventofcode/day_3.clj" [:<> "@" [:span.tabular-nums "4ee2235"]]]]]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}, :open-graph {:type "article:clerk", :title "Part 1", :description nil}, :title "Part 1", :blocks [{:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "adventofcode.day-3/markdown-5dtPFZaKDbU3NLsMiHpCyMGjPCYE4r"} ["h2" {:id "part-1"} [:<> "Part 1"]]], :nextjournal/render-opts {:id "adventofcode.day-3/markdown-5dtPFZaKDbU3NLsMiHpCyMGjPCYE4r"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(def example-input (slurp \"datasets/day-3/example-input.txt\"))", :nextjournal/render-opts {:loc {:line 12, :end-line 13, :column 1, :end-column 63}, :id "adventofcode.day-3/example-input-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(def puzzle-input (util/slurp-if-exists \"datasets/day-3/input.txt\"))", :nextjournal/render-opts {:loc {:line 15, :end-line 16, :column 1, :end-column 69}, :id "adventofcode.day-3/puzzle-input-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "adventofcode.day-3/markdown-5drAbMaQkzwtKwnTn9uyoFFR3oUfuu"} ["h3" {:id "solution"} [:<> "Solution"]]], :nextjournal/render-opts {:id "adventofcode.day-3/markdown-5drAbMaQkzwtKwnTn9uyoFFR3oUfuu"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(def +mul-regex+ #\"mul\\((\\d{1,3}),(\\d{1,3})\\)\")", :nextjournal/render-opts {:loc {:line 20, :end-line 20, :column 1, :end-column 48}, :id "adventofcode.day-3/+mul-regex+-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(defn parse-mul [input]\n  (for [[match x y] (re-seq +mul-regex+ input)]\n    [match (* (parse-long x)\n              (parse-long y))]))", :nextjournal/render-opts {:loc {:line 22, :end-line 25, :column 1, :end-column 33}, :id "adventofcode.day-3/parse-mul-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(defn mul-sum [input]\n  (->> (parse-mul input)\n       (map second)\n       (reduce + 0)))", :nextjournal/render-opts {:loc {:line 27, :end-line 30, :column 1, :end-column 22}, :id "adventofcode.day-3/mul-sum-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "adventofcode.day-3/markdown-5drpax1bUWTWYbe2cKv5uZn9w8cp9G"} ["h3" {:id "example-input"} [:<> "Example input"]]], :nextjournal/render-opts {:id "adventofcode.day-3/markdown-5drpax1bUWTWYbe2cKv5uZn9w8cp9G"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(parse-mul example-input)", :nextjournal/render-opts {:loc {:line 35, :end-line 35, :column 1, :end-column 26}, :id "adventofcode.day-3/anon-expr-5dsyqxWyd6bFtUcanmbqqr3XyiHLMb-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value [{:path [1 0 0], :nextjournal/value "mul(2,4)", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren "\"", :closing-paren ("\""), :page-size 80, :hash "5dsDiKZaSjZpuyav79P69dRKiDtE2s"}} {:path [1 0 1], :nextjournal/value 8, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren "[", :closing-paren ("]"), :page-size 20, :hash "5dsD1KJESfc8Dy8gPeGQfZCX2ayE8f"}} {:path [1 1], :nextjournal/value [{:path [1 1 0], :nextjournal/value "mul(5,5)", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren "\"", :closing-paren ("\""), :page-size 80, :hash "5dsDiKZaSjZpuyav79P69dRKiDtE2s"}} {:path [1 1 1], :nextjournal/value 25, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren "[", :closing-paren ("]"), :page-size 20, :hash "5dsD1KJESfc8Dy8gPeGQfZCX2ayE8f"}} {:path [1 2], :nextjournal/value [{:path [1 2 0], :nextjournal/value "mul(11,8)", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren "\"", :closing-paren ("\""), :page-size 80, :hash "5dsDiKZaSjZpuyav79P69dRKiDtE2s"}} {:path [1 2 1], :nextjournal/value 88, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren "[", :closing-paren ("]"), :page-size 20, :hash "5dsD1KJESfc8Dy8gPeGQfZCX2ayE8f"}} {:path [1 3], :nextjournal/value [{:path [1 3 0], :nextjournal/value "mul(8,5)", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren "\"", :closing-paren ("\""), :page-size 80, :hash "5dsDiKZaSjZpuyav79P69dRKiDtE2s"}} {:path [1 3 1], :nextjournal/value 40, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren "[", :closing-paren ("]" ")"), :page-size 20, :hash "5dsD1KJESfc8Dy8gPeGQfZCX2ayE8f"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/sequential-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren "(", :page-size 20, :hash "5dsgY1QgV2KqnvvrRRC3HXgCeF3Qge"}, :nextjournal/render-opts {:id "adventofcode.day-3/anon-expr-5dsyqxWyd6bFtUcanmbqqr3XyiHLMb-result-1"}}, :nextjournal/blob-id "8VvCu3VpBsmXv6o9TL3Cv6uJAJgNFfP9yQSLiNneKgVWziixPQrGFz1Y8MXtmTUiGV6HS4BqVUjXJtN7KVcqoPzCns"}, :nextjournal/render-opts {:id "adventofcode.day-3/anon-expr-5dsyqxWyd6bFtUcanmbqqr3XyiHLMb-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(mul-sum example-input)", :nextjournal/render-opts {:loc {:line 37, :end-line 37, :column 1, :end-column 24}, :id "adventofcode.day-3/anon-expr-5dsJs3tD9YWwuEThYZ6pRsTR4bLw6Z-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value 161, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}, :nextjournal/render-opts {:id "adventofcode.day-3/anon-expr-5dsJs3tD9YWwuEThYZ6pRsTR4bLw6Z-result-1"}}, :nextjournal/blob-id "8VxNwWscE3hfrFSqPvgSKLXRQ8YEtrnc95wRQkQi5xoFiFtrhsmbKWAkvufjhQGKgNTuzjDL2bR6JHPin2URoNqmE9"}, :nextjournal/render-opts {:id "adventofcode.day-3/anon-expr-5dsJs3tD9YWwuEThYZ6pRsTR4bLw6Z-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "adventofcode.day-3/markdown-5dt625nKmRwkUzXeJvSciLHjBWog2S"} ["h3" {:id "input"} [:<> "Input"]]], :nextjournal/render-opts {:id "adventofcode.day-3/markdown-5dt625nKmRwkUzXeJvSciLHjBWog2S"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(some-> (util/not-blank puzzle-input)\n        parse-mul)", :nextjournal/render-opts {:loc {:line 41, :end-line 42, :column 1, :end-column 19}, :id "adventofcode.day-3/anon-expr-5dqoXwsB57DzacudFjFDivjuGtaPQf-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value nil, :nextjournal/viewer {:name nextjournal.clerk.viewer/nil-viewer, :render-fn #viewer-fn (fn [_] [:span.cmt-default.inspected-value "nil"]), :hash "5ds5uDqqy4yJDMFDdH4gQZN84hJLZM"}, :nextjournal/render-opts {:id "adventofcode.day-3/anon-expr-5dqoXwsB57DzacudFjFDivjuGtaPQf-result-1"}}, :nextjournal/blob-id "8VxMLktXDdtVMc8iXimmtZ8NSKSLuY18iS4X8ByUYe38wJcyDLyPHV17oQkSvYDuZuMZzBdwAVhWgxupuvjsQC4uMd"}, :nextjournal/render-opts {:id "adventofcode.day-3/anon-expr-5dqoXwsB57DzacudFjFDivjuGtaPQf-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(some-> (util/not-blank puzzle-input)\n        mul-sum)", :nextjournal/render-opts {:loc {:line 44, :end-line 45, :column 1, :end-column 17}, :id "adventofcode.day-3/anon-expr-5dr1xDCvcU4Bco8Zh61CBid46zfG2a-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value nil, :nextjournal/viewer {:name nextjournal.clerk.viewer/nil-viewer, :render-fn #viewer-fn (fn [_] [:span.cmt-default.inspected-value "nil"]), :hash "5ds5uDqqy4yJDMFDdH4gQZN84hJLZM"}, :nextjournal/render-opts {:id "adventofcode.day-3/anon-expr-5dr1xDCvcU4Bco8Zh61CBid46zfG2a-result-1"}}, :nextjournal/blob-id "8VxMLktXDdtVMc8iXimmtZ8NSKSLuY18iS4X8ByUYe38wJcyDLyPHV17oQkSvYDuZuMZzBdwAVhWgxupuvjsQC4uMd"}, :nextjournal/render-opts {:id "adventofcode.day-3/anon-expr-5dr1xDCvcU4Bco8Zh61CBid46zfG2a-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "adventofcode.day-3/markdown-5drkFazgqKbutu3UAuPezrfUrWUXz9"} ["h2" {:id "part-2"} [:<> "Part 2"]] ["h3" {:id "solution-2"} [:<> "Solution"]]], :nextjournal/render-opts {:id "adventofcode.day-3/markdown-5drkFazgqKbutu3UAuPezrfUrWUXz9"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(defn find-indexes [input s]\n  (loop [res []]\n    (if-let [match (str/index-of input s (inc (or (last res) -1)))]\n      (recur (conj res match))\n      res)))", :nextjournal/render-opts {:loc {:line 52, :end-line 56, :column 1, :end-column 13}, :id "adventofcode.day-3/find-indexes-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(defn indexed-muls [input]\n  (for [[match sum] (parse-mul input)]\n    [(find-indexes input match) match sum]))", :nextjournal/render-opts {:loc {:line 58, :end-line 60, :column 1, :end-column 45}, :id "adventofcode.day-3/indexed-muls-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(defn enabled-ranges [input]\n  (loop [sorted (->> (concat (map vector (find-indexes input \"do()\") (repeat :do))\n                             (map vector (find-indexes input \"don't()\") (repeat :dont)))\n                     (sort-by first))\n         enabled? true\n         ranges [0]] ; start of input initially\n\n    (if (empty? sorted)\n      (cond-> ranges\n        enabled? (conj (count input)) ; end of input\n        true (->> (partition-all 2)))\n\n      (let [[r conditional] (first sorted)]\n        (case conditional\n          :do (recur (rest sorted)\n                     true\n                     (cond-> ranges (not enabled?) (conj (+ r 4))))\n\n          :dont (recur (rest sorted)\n                       false\n                       (cond-> ranges enabled? (conj (dec r)))))))))", :nextjournal/render-opts {:loc {:line 62, :end-line 82, :column 1, :end-column 69}, :id "adventofcode.day-3/enabled-ranges-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(defn enabled-muls [input]\n  (let [ranges (enabled-ranges input)\n        enabled-mul? (fn [index]\n                       (some (fn [[start end]] (<= start index end)) ranges))]\n    (->> (indexed-muls input)\n         (eduction (map (fn [[indexes match sum]]\n                          [(filter enabled-mul? indexes) match sum]))\n                   (filter (comp seq first)))\n         (mapv rest))))", :nextjournal/render-opts {:loc {:line 84, :end-line 92, :column 1, :end-column 24}, :id "adventofcode.day-3/enabled-muls-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "adventofcode.day-3/markdown-5dr8wvC9rF3siEREuotRRik2J1psRA"} ["h3" {:id "example-input-2"} [:<> "Example input"]]], :nextjournal/render-opts {:id "adventofcode.day-3/markdown-5dr8wvC9rF3siEREuotRRik2J1psRA"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(enabled-muls example-input)", :nextjournal/render-opts {:loc {:line 97, :end-line 97, :column 1, :end-column 29}, :id "adventofcode.day-3/anon-expr-5dtDH3xDN4ZbbiUjtX6aLqvjJL6b9Z-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value [{:path [1 0 0], :nextjournal/value "mul(2,4)", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren "\"", :closing-paren ("\""), :page-size 80, :hash "5dsDiKZaSjZpuyav79P69dRKiDtE2s"}} {:path [1 0 1], :nextjournal/value 8, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/sequential-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren "(", :closing-paren (")"), :page-size 20, :hash "5dsgY1QgV2KqnvvrRRC3HXgCeF3Qge"}} {:path [1 1], :nextjournal/value [{:path [1 1 0], :nextjournal/value "mul(8,5)", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren "\"", :closing-paren ("\""), :page-size 80, :hash "5dsDiKZaSjZpuyav79P69dRKiDtE2s"}} {:path [1 1 1], :nextjournal/value 40, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/sequential-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren "(", :closing-paren (")" "]"), :page-size 20, :hash "5dsgY1QgV2KqnvvrRRC3HXgCeF3Qge"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren "[", :page-size 20, :hash "5dsD1KJESfc8Dy8gPeGQfZCX2ayE8f"}, :nextjournal/render-opts {:id "adventofcode.day-3/anon-expr-5dtDH3xDN4ZbbiUjtX6aLqvjJL6b9Z-result-1"}}, :nextjournal/blob-id "8VvP63wSzkXti2BJQYHTmLe4FCrhDQupVGyhxsCtgRmRLVytBvcPzD4n8682qFkSD4sLtiW6oqs71MRTdfvDD9jSQR"}, :nextjournal/render-opts {:id "adventofcode.day-3/anon-expr-5dtDH3xDN4ZbbiUjtX6aLqvjJL6b9Z-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(->> (enabled-muls example-input)\n     (map second)\n     (reduce + 0))", :nextjournal/render-opts {:loc {:line 99, :end-line 101, :column 1, :end-column 19}, :id "adventofcode.day-3/anon-expr-5drJ4E665CT2Nn91mFfLE2rxH3caCo-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value 48, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}, :nextjournal/render-opts {:id "adventofcode.day-3/anon-expr-5drJ4E665CT2Nn91mFfLE2rxH3caCo-result-1"}}, :nextjournal/blob-id "8VvYwMgnBFoHSatm9EDE5qwpr8fT4wWYy33RHg2eigj4bEv9e13behQCTkA9E6w3KdTjhP5Vb9hFNM81wTE7nopvrV"}, :nextjournal/render-opts {:id "adventofcode.day-3/anon-expr-5drJ4E665CT2Nn91mFfLE2rxH3caCo-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "adventofcode.day-3/markdown-5dsC4ngjKFwPW6wu4e5ykpa1xBg5e9"} ["h3" {:id "input-2"} [:<> "Input"]]], :nextjournal/render-opts {:id "adventofcode.day-3/markdown-5dsC4ngjKFwPW6wu4e5ykpa1xBg5e9"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(some-> (util/not-blank puzzle-input)\n        enabled-muls)", :nextjournal/render-opts {:loc {:line 105, :end-line 106, :column 1, :end-column 22}, :id "adventofcode.day-3/anon-expr-5drYfTfaW2oDCgrPGXdX2F6XC6KGJt-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value nil, :nextjournal/viewer {:name nextjournal.clerk.viewer/nil-viewer, :render-fn #viewer-fn (fn [_] [:span.cmt-default.inspected-value "nil"]), :hash "5ds5uDqqy4yJDMFDdH4gQZN84hJLZM"}, :nextjournal/render-opts {:id "adventofcode.day-3/anon-expr-5drYfTfaW2oDCgrPGXdX2F6XC6KGJt-result-1"}}, :nextjournal/blob-id "8VxMLktXDdtVMc8iXimmtZ8NSKSLuY18iS4X8ByUYe38wJcyDLyPHV17oQkSvYDuZuMZzBdwAVhWgxupuvjsQC4uMd"}, :nextjournal/render-opts {:id "adventofcode.day-3/anon-expr-5drYfTfaW2oDCgrPGXdX2F6XC6KGJt-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(some->> (util/not-blank puzzle-input)\n         enabled-muls\n         (map second)\n         (reduce + 0))", :nextjournal/render-opts {:loc {:line 108, :end-line 111, :column 1, :end-column 23}, :id "adventofcode.day-3/anon-expr-5dsm5Vn2sjL5pcXWHnzvSWUonqY6Rt-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value nil, :nextjournal/viewer {:name nextjournal.clerk.viewer/nil-viewer, :render-fn #viewer-fn (fn [_] [:span.cmt-default.inspected-value "nil"]), :hash "5ds5uDqqy4yJDMFDdH4gQZN84hJLZM"}, :nextjournal/render-opts {:id "adventofcode.day-3/anon-expr-5dsm5Vn2sjL5pcXWHnzvSWUonqY6Rt-result-1"}}, :nextjournal/blob-id "8VxMLktXDdtVMc8iXimmtZ8NSKSLuY18iS4X8ByUYe38wJcyDLyPHV17oQkSvYDuZuMZzBdwAVhWgxupuvjsQC4uMd"}, :nextjournal/render-opts {:id "adventofcode.day-3/anon-expr-5dsm5Vn2sjL5pcXWHnzvSWUonqY6Rt-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}}]}, :nextjournal/viewer {:name nextjournal.clerk.viewer/notebook-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-notebook, :hash "5duAFDxE4sCnRX71Wo6zeCpC9C3djE"}}